{"ast":null,"code":"// src/components/ResponseDisplay.js\nimport React,{useRef}from'react';import{Prism as SyntaxHighlighter}from'react-syntax-highlighter';import{materialLight,materialDark}from'react-syntax-highlighter/dist/esm/styles/prism';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ResponseDisplay=_ref=>{let{conversation,isLoading,isDarkMode}=_ref;const containerRef=useRef(null);const copyToClipboard=text=>{navigator.clipboard.writeText(text);// eslint-disable-next-line no-restricted-globals\nconst copyButton=event.target;copyButton.textContent='Copied!';setTimeout(()=>{copyButton.textContent='Copy';},2000);};const parseCodeBlocks=text=>{const codeBlockRegex=/```(\\w+)?\\n([\\s\\S]*?)```/g;const parts=[];let lastIndex=0;text.replace(codeBlockRegex,(match,lang,code,offset)=>{if(offset>lastIndex){parts.push({type:'text',content:text.slice(lastIndex,offset)});}parts.push({type:'code',language:lang||'javascript',content:code});lastIndex=offset+match.length;});if(lastIndex<text.length){parts.push({type:'text',content:text.slice(lastIndex)});}return parts;};const renderContent=text=>{const parts=parseCodeBlocks(text);return parts.map((part,index)=>{if(part.type==='text'){return/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 dark:text-gray-200 leading-relaxed mb-2\",children:part.content},index);}return/*#__PURE__*/_jsx(\"div\",{className:\"my-2\",children:/*#__PURE__*/_jsx(SyntaxHighlighter,{language:part.language,style:isDarkMode?materialDark:materialLight,className:\"rounded-lg text-sm\",customStyle:{padding:'1rem',borderRadius:'0.5rem',margin:'0.5rem 0'},children:part.content.trim()})},index);});};return/*#__PURE__*/_jsxs(\"div\",{ref:containerRef,className:\"space-y-4 max-h-[500px] overflow-y-auto custom-scrollbar\",children:[conversation.map((entry,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 shadow-md rounded-lg overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 dark:bg-blue-900/30 p-4 border-b border-gray-200 dark:border-gray-700\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between items-center\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold text-gray-800 dark:text-white\",children:[\"\\uD83E\\uDD14 \",entry.question]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 relative group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"prose dark:prose-invert max-w-none\",children:renderContent(entry.answer)}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>copyToClipboard(entry.answer,e),className:\"absolute top-2 right-2 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 \\r hover:bg-blue-100 dark:hover:bg-blue-900 \\r p-2 rounded-full opacity-0 group-hover:opacity-100 \\r transition-all duration-300 ease-in-out\",children:/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",children:[/*#__PURE__*/_jsx(\"rect\",{x:\"9\",y:\"9\",width:\"13\",height:\"13\",rx:\"2\",ry:\"2\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"})]})})]})]},index)),isLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-gray-500 dark:text-gray-400 animate-pulse\",children:\"Generating response...\"}),conversation.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-gray-500 dark:text-gray-400\",children:\"\\uD83E\\uDD16 Ask your first question!\"})]});};export default ResponseDisplay;","map":{"version":3,"names":["React","useRef","Prism","SyntaxHighlighter","materialLight","materialDark","jsx","_jsx","jsxs","_jsxs","ResponseDisplay","_ref","conversation","isLoading","isDarkMode","containerRef","copyToClipboard","text","navigator","clipboard","writeText","copyButton","event","target","textContent","setTimeout","parseCodeBlocks","codeBlockRegex","parts","lastIndex","replace","match","lang","code","offset","push","type","content","slice","language","length","renderContent","map","part","index","className","children","style","customStyle","padding","borderRadius","margin","trim","ref","entry","question","answer","onClick","e","xmlns","viewBox","fill","stroke","x","y","width","height","rx","ry","d"],"sources":["C:/Users/ajays/Desktop/ChatwithAjay/src/components/ResponseDisplay.js"],"sourcesContent":["// src/components/ResponseDisplay.js\r\nimport React, { useRef } from 'react';\r\nimport { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';\r\nimport { materialLight, materialDark } from 'react-syntax-highlighter/dist/esm/styles/prism';\r\n\r\nconst ResponseDisplay = ({ conversation, isLoading, isDarkMode }) => {\r\n  const containerRef = useRef(null);\r\n\r\n  const copyToClipboard = (text) => {\r\n    navigator.clipboard.writeText(text);\r\n\r\n\r\n    // eslint-disable-next-line no-restricted-globals\r\n    const copyButton = event.target;\r\n    copyButton.textContent = 'Copied!';\r\n    setTimeout(() => {\r\n      copyButton.textContent = 'Copy';\r\n    }, 2000);\r\n  };\r\n\r\n  const parseCodeBlocks = (text) => {\r\n    const codeBlockRegex = /```(\\w+)?\\n([\\s\\S]*?)```/g;\r\n    const parts = [];\r\n    let lastIndex = 0;\r\n\r\n    text.replace(codeBlockRegex, (match, lang, code, offset) => {\r\n\r\n\r\n      if (offset > lastIndex) {\r\n        parts.push({ \r\n          type: 'text', \r\n          content: text.slice(lastIndex, offset) \r\n        });\r\n      }\r\n\r\n\r\n      parts.push({ \r\n        type: 'code', \r\n        language: lang || 'javascript', \r\n        content: code \r\n      });\r\n\r\n      lastIndex = offset + match.length;\r\n    });\r\n\r\n \r\n    if (lastIndex < text.length) {\r\n      parts.push({ \r\n        type: 'text', \r\n        content: text.slice(lastIndex) \r\n      });\r\n    }\r\n\r\n    return parts;\r\n  };\r\n\r\n  const renderContent = (text) => {\r\n    const parts = parseCodeBlocks(text);\r\n\r\n    return parts.map((part, index) => {\r\n      if (part.type === 'text') {\r\n        return (\r\n          <p \r\n            key={index} \r\n            className=\"text-gray-700 dark:text-gray-200 leading-relaxed mb-2\"\r\n          >\r\n            {part.content}\r\n          </p>\r\n        );\r\n      }\r\n\r\n      return (\r\n        <div key={index} className=\"my-2\">\r\n          <SyntaxHighlighter\r\n            language={part.language}\r\n            style={isDarkMode ? materialDark : materialLight}\r\n            className=\"rounded-lg text-sm\"\r\n            customStyle={{\r\n              padding: '1rem',\r\n              borderRadius: '0.5rem',\r\n              margin: '0.5rem 0'\r\n            }}\r\n          >\r\n            {part.content.trim()}\r\n          </SyntaxHighlighter>\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div \r\n      ref={containerRef}\r\n      className=\"space-y-4 max-h-[500px] overflow-y-auto custom-scrollbar\"\r\n    >\r\n      {conversation.map((entry, index) => (\r\n        <div \r\n          key={index} \r\n          className=\"bg-white dark:bg-gray-800 shadow-md rounded-lg overflow-hidden\"\r\n        >\r\n          {/* Question Section */}\r\n          <div className=\"bg-blue-50 dark:bg-blue-900/30 p-4 border-b border-gray-200 dark:border-gray-700\">\r\n            <div className=\"flex justify-between items-center\">\r\n              <p className=\"font-semibold text-gray-800 dark:text-white\">\r\n                ðŸ¤” {entry.question}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Answer Section */}\r\n          <div className=\"p-4 relative group\">\r\n            <div className=\"prose dark:prose-invert max-w-none\">\r\n              {renderContent(entry.answer)}\r\n            </div>\r\n\r\n            {/* Copy Button */}\r\n            <button \r\n              onClick={(e) => copyToClipboard(entry.answer, e)}\r\n              className=\"absolute top-2 right-2 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 \r\n                         hover:bg-blue-100 dark:hover:bg-blue-900 \r\n                         p-2 rounded-full opacity-0 group-hover:opacity-100 \r\n                         transition-all duration-300 ease-in-out\"\r\n            >\r\n              <svg \r\n                xmlns=\"http://www.w3.org/2000/svg\" \r\n                className=\"h-5 w-5\" \r\n                viewBox=\"0 0 24 24\" \r\n                fill=\"none\" \r\n                stroke=\"currentColor\"\r\n              >\r\n                <rect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\"></rect>\r\n                <path d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"></path>\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      ))}\r\n\r\n      {isLoading && (\r\n        <div className=\"text-center text-gray-500 dark:text-gray-400 animate-pulse\">\r\n          Generating response...\r\n        </div>\r\n      )}\r\n\r\n      {conversation.length === 0 && (\r\n        <div className=\"text-center text-gray-500 dark:text-gray-400\">\r\n          ðŸ¤– Ask your first question!\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResponseDisplay;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}